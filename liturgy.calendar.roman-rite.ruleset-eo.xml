<?xml version="1.0" encoding="UTF-8"?>


<liturgicaldays>

  <!-- 
      ADVENT 
              -->

  <coordinaterules set="Advent" start="First Sunday of Advent" stopbefore="Christmas"
    start-date="11-27" stop-date="12-24" overlap-priority="9">
    <text>A</text>
    <format template="00">
      <count-weeks-between>
        <weeks-before nr="4">
          <weekday-before day="Sunday">
            <date day="25" month="12" year-1="yes"/>
          </weekday-before>
        </weeks-before>
        <weekday-before-or-self day="Sunday">
          <this-date/>
        </weekday-before-or-self>
      </count-weeks-between>
    </format>
    <day-number>
      <this-date/>
    </day-number>
  </coordinaterules>

  <liturgicalday>
    <parameters>
      <parametergroup><nr_s>First</nr_s><nr_i>3</nr_i><nr_c>01</nr_c></parametergroup>
      <parametergroup><nr_s>Second</nr_s><nr_i>2</nr_i><nr_c>02</nr_c></parametergroup>
      <parametergroup><nr_s>Third</nr_s><nr_i>1</nr_i><nr_c>03</nr_c></parametergroup>
      <parametergroup><nr_s>Fourth</nr_s><nr_i>0</nr_i><nr_c>04</nr_c></parametergroup>
    </parameters>
    <template>
     <name>$nr_s Sunday of Advent</name>
      <season>Season of Christmas</season>
      <tide>Advent</tide>
      <set>Advent</set>
      <coordinates>A$nr_c1</coordinates>
      <rank nr="3">Sunday I-IV Advent</rank>
      <coincideswith>Z1224</coincideswith>
      <daterules>
        <weeks-before nr="$nr_i">
          <weekday-before day="Sunday">
            <date day="25" month="12" year-1="yes"/>
          </weekday-before>
        </weeks-before>
      </daterules>
    </template>
  </liturgicalday>
  
  <liturgicalday>
    <parameters>
      <parameters>
        <parametergroup><day_s>Wednesday</day_s><day_c>4</day_c></parametergroup>
        <parametergroup><day_s>Friday</day_s><day_c>6</day_c></parametergroup>
        <parametergroup><day_s>Saturday</day_s><day_c>7</day_c></parametergroup>
      </parameters>
      <parametergroup><nr_s>Third</nr_s><nr_i>1</nr_i><nr_c>03</nr_c></parametergroup>
    </parameters>
    <template>
     <name>Ember $day_s in Advent</name>
      <season>Season of Christmas</season>
      <tide>Advent</tide>
      <set>Advent</set>
      <coordinates>A$nr_c$day_c</coordinates>
      <rank nr="10">Ember day of Advent</rank>
      <daterules>
        <weekday-after day="$day_s">
          <weeks-before nr="$nr_i">
            <weekday-before day="Sunday">
              <date day="25" month="12" year-1="yes"/>
            </weekday-before>
          </weeks-before>
        </weekday-after>
      </daterules>
    </template>
  </liturgicalday>

  <liturgicalday>
    <parameters>
      <parameters>
        <parametergroup>
          <day_s>Monday</day_s><day_c>2</day_c>
        </parametergroup>
        <parametergroup>
          <day_s>Tuesday</day_s><day_c>3</day_c>
        </parametergroup>
        <parametergroup>
          <day_s>Wednesday</day_s><day_c>4</day_c>
        </parametergroup>
        <parametergroup>
          <day_s>Thursday</day_s><day_c>5</day_c>
        </parametergroup>
        <parametergroup>
          <day_s>Friday</day_s><day_c>6</day_c>
        </parametergroup>
        <parametergroup>
          <day_s>Saturday</day_s><day_c>7</day_c>
        </parametergroup>
      </parameters>
      <parametergroup>
        <nr_s>First</nr_s><nr_i>1</nr_i><nr_c>01</nr_c>
      </parametergroup>
      <parametergroup>
        <nr_s>Second</nr_s><nr_i>2</nr_i><nr_c>02</nr_c>
      </parametergroup>
      <parametergroup>
        <nr_s>Third</nr_s><nr_i>3</nr_i><nr_c>03</nr_c>
      </parametergroup>
    </parameters>
    <template>
     <name>$day_s in the $nr_s week of Advent</name>
      <season>Season of Christmas</season>
      <tide>Advent</tide>
      <set>Advent</set>
      <coordinates>A$nr_c$day_c</coordinates>
      <rank nr="18">Ferias IV class</rank>
      <daterules>
        <weekday-after day="$day_s">
          <weeks-before nr="$nr_i">
            <weekday-before day="Sunday">
              <date day="25" month="12" year-1="yes"/>
            </weekday-before>
          </weeks-before>
        </weekday-after>
      </daterules>
    </template>
  </liturgicalday>
  
  <!-- 
      DAYS BEFORE CHRISTMAS 
              -->

  <coordinaterules set="Days before Christmas" start="First Sunday of Advent" stopbefore="Christmas"
    start-date="12-17" stop-date="12-24" overlap-priority="8">
    <text>D</text>
    <format template="00">
      <count-weeks-between>
        <weeks-before nr="4">
          <weekday-before day="Sunday">
            <date day="25" month="12" year-1="yes"/>
          </weekday-before>
        </weeks-before>
        <weekday-before-or-self day="Sunday">
          <this-date/>
        </weekday-before-or-self>
      </count-weeks-between>
    </format>
    <day-number>
      <this-date/>
    </day-number>
  </coordinaterules>

  <liturgicalday>
    <parameters>
      <parameters>
        <parametergroup>
          <day_s>Monday</day_s><day_c>2</day_c>
        </parametergroup>
        <parametergroup>
          <day_s>Tuesday</day_s><day_c>3</day_c>
        </parametergroup>
        <parametergroup>
          <day_s>Wednesday</day_s><day_c>4</day_c>
        </parametergroup>
        <parametergroup>
          <day_s>Thursday</day_s><day_c>5</day_c>
        </parametergroup>
        <parametergroup>
          <day_s>Friday</day_s><day_c>6</day_c>
        </parametergroup>
        <parametergroup>
          <day_s>Saturday</day_s><day_c>7</day_c>
        </parametergroup>
      </parameters>
      <parametergroup>
        <nr_s>Third</nr_s><nr_i>3</nr_i><nr_c>03</nr_c>
      </parametergroup>
      <parametergroup>
        <nr_s>Fourth</nr_s><nr_i>4</nr_i><nr_c>04</nr_c>
      </parametergroup>
    </parameters>
    <template>
     <name>$day_s in the $nr_s week of Advent</name>
      <season>Season of Christmas</season>
      <tide>Advent</tide>
      <set>Days before Christmas</set>
      <coordinates>D$nr_c$day_c</coordinates>
      <rank nr="10">Ferias Advent from 17-23 Dec.</rank>
      <daterules>
        <weekday-after day="$day_s">
          <weeks-before nr="$nr_i">
            <weekday-before day="Sunday">
              <date day="25" month="12" year-1="yes"/>
            </weekday-before>
          </weeks-before>
        </weekday-after>
      </daterules>
    </template>
  </liturgicalday>

<!--
     CHRISTMAS OCTAVE
                      -->

  <coordinaterules set="Octave of Christmas" startafter="Christmas" stop="Seventh day in the octave of Christmas"
    start-date="12-26" stop-date="12-31" overlap-priority="12">
    <text>B</text>
    <count-days-between>
      <date day="24" month="12" year-1="yes"/>
      <this-date/>
    </count-days-between>
  </coordinaterules>

  <liturgicalday>
    <parameters>
      <parametergroup><nr_s>Fifth</nr_s><nr_i>4</nr_i><nr_c>5</nr_c></parametergroup>
      <parametergroup><nr_s>Sixth</nr_s><nr_i>5</nr_i><nr_c>6</nr_c></parametergroup>
      <parametergroup><nr_s>Seventh</nr_s><nr_i>6</nr_i><nr_c>7</nr_c></parametergroup>
    </parameters>
    <template>
      <name>$nr_s day in the octave of Christmas</name>
      <season>Christmas season</season>
      <tide>Christmas Tide</tide>
      <set>Octave of Christmas</set>
      <coordinates>B$nr_c</coordinates>
      <rank nr="12">Octave of Christmas</rank>
      <daterules>
        <days-after nr="$nr_i">
          <date day="25" month="12" year-1="yes"/>
        </days-after>
      </daterules>
    </template>
  </liturgicalday>
  

<!-- 
     SUNDAYS OF CHRISTMAS SEASON
                                  -->

  <coordinaterules set="Sundays of Christmas Season" startafter="Christmas" stopbefore="The Holy Name of Jesus"
    start-date="12-26" stop-date="12-31" overlap-priority="9">
    <text>C</text>
    <day-number>
      <this-date/>
    </day-number>
  </coordinaterules>

  <liturgicalday>
    <template>
     <name>Sunday in the Octave of Christmas</name>
      <season>Christmas season</season>
      <tide>Christmas Tide</tide>
      <set>Sundays of Christmas Season</set>
      <coordinates>C1</coordinates>
      <rank nr="9">Sunday II class</rank>
      <daterules>
          <weekday-after day="Sunday">
            <date day="25" month="12" year-1="yes"/>
          </weekday-after>
      </daterules>
    </template>
  </liturgicalday>

<!-- 
     HOLY NAME OF JESUS 
                 -->
                 
  <coordinaterules set="Holy Name of Jesus"
    start-date="01-02" stop-date="01-05" overlap-priority="6">
    <if>
      <test>
        <equals>
          <this-date/>
          <relative-to name="Feast of the Holy Name of Jesus"/>
        </equals>
      </test>
      <then>
        <text>HNJ</text>
      </then>
    </if>
  </coordinaterules>

  <liturgicalday>
    <template>
     <name>Feast of the Holy Name of Jesus</name>
      <season>Christmas season</season>
      <tide>Christmas Tide</tide>
      <set>Holy Name of Jesus</set>
      <coordinates>HNJ</coordinates>
      <rank nr="8">Feast of the Holy Name of Jesus</rank>
      <daterules>
        <if>
          <test>
            <or>
              <test-day day="Sunday">
                <date day="01" month="01"/>
              </test-day>
              <test-day day="Monday">
                <date day="01" month="01"/>
              </test-day>
              <test-day day="Tuesday">
                <date day="01" month="01"/>
              </test-day>
            </or>
          </test>
          <then>
            <date day="02" month="01"/>
          </then>
          <else>
            <weekday-after day="Sunday">
              <date day="01" month="01"/>
            </weekday-after>
          </else>
        </if>
      </daterules>
    </template>
  </liturgicalday>

  <!--
       AFTER EPIPHANY 
              -->

  <coordinaterules set="After Epiphany" start="Epiphany" stop="Septuagesima"
    start-date="01-06" stop-date="02-22" overlap-priority="9">
    <text>E</text>
    <format template="00">
      <count-weeks-between>
        <weeks-before nr="1">
          <weekday-after day="Sunday">
            <date month="01" day="06"/><!-- Epiphany -->
          </weekday-after>
        </weeks-before>
        <weekday-before-or-self day="Sunday">
          <this-date/>
        </weekday-before-or-self>
      </count-weeks-between>
    </format>
    <day-number>
      <this-date/>
    </day-number>
  </coordinaterules>

  <liturgicalday>
    <template>
     <name>Holy Family</name>
      <season>Christmas Season</season>
      <tide>Epiphany</tide>
      <set>After Epiphany</set>
      <coordinates>E011</coordinates>
      <rank nr="8">Feast of the Holy Family of Jesus</rank>
      <daterules>
        <weekday-after day="Sunday">
          <date month="01" day="06"/><!-- Epiphany -->
        </weekday-after>
      </daterules>
    </template>
  </liturgicalday>
  
  <liturgicalday>
    <parameters>
      <parametergroup><nr_s>Second</nr_s><nr_i>1</nr_i><nr_c>02</nr_c></parametergroup>
      <parametergroup><nr_s>Third</nr_s><nr_i>2</nr_i><nr_c>03</nr_c></parametergroup>
      <parametergroup><nr_s>Fourth</nr_s><nr_i>3</nr_i><nr_c>04</nr_c></parametergroup>
      <parametergroup><nr_s>Fifth</nr_s><nr_i>4</nr_i><nr_c>05</nr_c></parametergroup>
      <parametergroup><nr_s>Sixth</nr_s><nr_i>5</nr_i><nr_c>06</nr_c></parametergroup>
    </parameters>
    <template>
     <name>$nr_s Sunday after Epiphany</name>
      <season>Season per Annum</season>
      <set>After Epiphany</set>
      <coordinates>E$nr_c1</coordinates>
      <rank nr="9">Sunday II class</rank>
      <daterules>
        <weeks-after nr="$nr_i">
          <weekday-after day="Sunday">
            <date month="01" day="06"/><!-- Epiphany -->
          </weekday-after>
        </weeks-after>
      </daterules>
    </template>
  </liturgicalday>

  <liturgicalday>
    <parameters>
      <parameters>
        <parametergroup>
          <day_s>Monday</day_s><day_c>2</day_c>
        </parametergroup>
        <parametergroup>
          <day_s>Tuesday</day_s><day_c>3</day_c>
        </parametergroup>
        <parametergroup>
          <day_s>Wednesday</day_s><day_c>4</day_c>
        </parametergroup>
        <parametergroup>
          <day_s>Thursday</day_s><day_c>5</day_c>
        </parametergroup>
        <parametergroup>
          <day_s>Friday</day_s><day_c>6</day_c>
        </parametergroup>
        <parametergroup>
          <day_s>Saturday</day_s><day_c>7</day_c>
        </parametergroup>
      </parameters>
<parametergroup><nr_s>First</nr_s><nr_i>0</nr_i><nr_c>01</nr_c></parametergroup>
<parametergroup><nr_s>Second</nr_s><nr_i>1</nr_i><nr_c>02</nr_c></parametergroup>
      <parametergroup><nr_s>Third</nr_s><nr_i>2</nr_i><nr_c>03</nr_c></parametergroup>
      <parametergroup><nr_s>Fourth</nr_s><nr_i>3</nr_i><nr_c>04</nr_c></parametergroup>
      <parametergroup><nr_s>Fifth</nr_s><nr_i>4</nr_i><nr_c>05</nr_c></parametergroup>
      <parametergroup><nr_s>Sixth</nr_s><nr_i>5</nr_i><nr_c>06</nr_c></parametergroup>
    </parameters>
    <template>
     <name>$day_s in the $nr_s week after Epiphany</name>
      <season>Season per Annum</season>
      <set>After Epiphany</set>
      <coordinates>E$nr_c$day_c</coordinates>
      <rank nr="18">Ferias IV class</rank>
      <daterules>
        <weekday-after day="$day_s">
          <weeks-after nr="$nr_i">
            <weekday-after day="Sunday">
              <date month="01" day="06"/><!-- Epiphany -->
            </weekday-after>
          </weeks-after>
        </weekday-after>
      </daterules>
    </template>
  </liturgicalday>

<!--
       AFTER EPIPHANY BEFORE ADVENT
              -->

  <coordinaterules set="After Epiphany before Advent" start="Twenty-third Sunday after Pentecost" stop="Twenty-fourth and Last Sunday after Pentecost"
    start-date="10-15" stop-date="11-19" overlap-priority="9">
    <text>F</text>
    <format template="00">
      <count-weeks-between>
        <weeks-before nr="8">
          <relative-to-next-years name="First Sunday of Advent"/>
        </weeks-before>
        <weekday-before-or-self day="Sunday">
          <this-date/>
        </weekday-before-or-self>
      </count-weeks-between>
    </format>
    <day-number>
      <this-date/>
    </day-number>
  </coordinaterules>

  <liturgicalday>
    <parameters>
      <parametergroup><nr_s>Third</nr_s><nr_i>2</nr_i><nr_c>03</nr_c></parametergroup>
      <parametergroup><nr_s>Fourth</nr_s><nr_i>3</nr_i><nr_c>04</nr_c></parametergroup>
      <parametergroup><nr_s>Fifth</nr_s><nr_i>4</nr_i><nr_c>05</nr_c></parametergroup>
      <parametergroup><nr_s>Sixth</nr_s><nr_i>5</nr_i><nr_c>06</nr_c></parametergroup>
    </parameters>
    <template>
     <name>$nr_s Sunday after Epiphany</name>
      <season>Season per Annum</season>
      <set>After Epiphany before Advent</set>
      <coordinates>E$nr_c1</coordinates>
      <rank nr="9">Sunday II class</rank>
      <daterules>
        <weeks-after nr="$nr_i">
          <weeks-before nr="8">
            <relative-to-next-years name="First Sunday of Advent"/>
          </weeks-before>
        </weeks-after>
      </daterules>
    </template>
  </liturgicalday>

  <liturgicalday>
    <parameters>
      <parameters>
        <parametergroup>
          <day_s>Monday</day_s><day_c>2</day_c>
        </parametergroup>
        <parametergroup>
          <day_s>Tuesday</day_s><day_c>3</day_c>
        </parametergroup>
        <parametergroup>
          <day_s>Wednesday</day_s><day_c>4</day_c>
        </parametergroup>
        <parametergroup>
          <day_s>Thursday</day_s><day_c>5</day_c>
        </parametergroup>
        <parametergroup>
          <day_s>Friday</day_s><day_c>6</day_c>
        </parametergroup>
        <parametergroup>
          <day_s>Saturday</day_s><day_c>7</day_c>
        </parametergroup>
      </parameters>
<parametergroup><nr_s>Third</nr_s><nr_i>2</nr_i><nr_c>03</nr_c></parametergroup>
      <parametergroup><nr_s>Fourth</nr_s><nr_i>3</nr_i><nr_c>04</nr_c></parametergroup>
      <parametergroup><nr_s>Fifth</nr_s><nr_i>4</nr_i><nr_c>05</nr_c></parametergroup>
      <parametergroup><nr_s>Sixth</nr_s><nr_i>5</nr_i><nr_c>06</nr_c></parametergroup>
    </parameters>
    <template>
     <name>$day_s in the $nr_s week of Advent</name>
      <season>Season per Annum</season>
      <set>After Epiphany before Advent</set>
      <coordinates>E$nr_c$day_c</coordinates>
      <rank nr="18">Ferias IV class</rank>
      <daterules>
        <weekday-after day="$day_s">
          <weeks-after nr="$nr_i">
            <weeks-before nr="8">
              <relative-to-next-years name="First Sunday of Advent"/>
            </weeks-before>
          </weeks-after>
        </weekday-after>
      </daterules>
    </template>
  </liturgicalday>

<!-- 
     SEPTUAGESIMA
          -->

  <coordinaterules set="Septuagesima" start="Septuagesima" stopbefore="Ash Wednesday"
    start-date="01-18" stop-date="03-09" overlap-priority="9">
    <text>G</text>
    <format template="00">
      <count-weeks-between>
        <days-before nr="70">
          <easterdate/>
        </days-before>
        <weekday-before-or-self day="Sunday">
          <this-date/>
        </weekday-before-or-self>
      </count-weeks-between>
    </format>
    <day-number>
      <this-date/>
    </day-number>
  </coordinaterules>

  <liturgicalday>
    <parameters>
      <parametergroup><nr_s>Septuagesima</nr_s><nr_i>9</nr_i><nr_c>01</nr_c></parametergroup>
      <parametergroup><nr_s>Sexagesima</nr_s><nr_i>8</nr_i><nr_c>02</nr_c></parametergroup>
      <parametergroup><nr_s>Quinquagesima</nr_s><nr_i>7</nr_i><nr_c>03</nr_c></parametergroup>
    </parameters>
    <template>
     <name>$nr_s Sunday</name>
      <season>Season of Septuagesima</season>
      <set>Septuagesima</set>
      <coordinates>G$nr_c1</coordinates>
      <rank nr="9">Sunday II class</rank>
      <daterules>
        <weeks-before nr="$nr_i">
          <easterdate/>
        </weeks-before>
      </daterules>
    </template>
  </liturgicalday>

  <liturgicalday>
    <parameters>
      <parameters>
        <parametergroup>
          <day_s>Monday</day_s><day_c>2</day_c>
        </parametergroup>
        <parametergroup>
          <day_s>Tuesday</day_s><day_c>3</day_c>
        </parametergroup>
        <parametergroup>
          <day_s>Wednesday</day_s><day_c>4</day_c>
        </parametergroup>
        <parametergroup>
          <day_s>Thursday</day_s><day_c>5</day_c>
        </parametergroup>
        <parametergroup>
          <day_s>Friday</day_s><day_c>6</day_c>
        </parametergroup>
        <parametergroup>
          <day_s>Saturday</day_s><day_c>7</day_c>
        </parametergroup>
      </parameters>
<parametergroup><nr_s>Septuagesima</nr_s><nr_i>9</nr_i><nr_c>01</nr_c></parametergroup>
      <parametergroup><nr_s>Sexagesima</nr_s><nr_i>8</nr_i><nr_c>02</nr_c></parametergroup>
      <parametergroup><nr_s>Quinquagesima</nr_s><nr_i>7</nr_i><nr_c>03</nr_c></parametergroup>
    </parameters>
    <template>
     <name>$day_s in the week of $nr_s</name>
      <season>Season of Septuagesima</season>
      <set>Septuagesima</set>
      <coordinates>G$nr_c$day_c</coordinates>
      <rank nr="18">Ferias IV class</rank>
      <daterules>
        <weekday-after day="$day_s">
          <weeks-before nr="$nr_i">
            <easterdate/>
          </weeks-before>
        </weekday-after>
      </daterules>
    </template>
  </liturgicalday>

<!-- 
     LENT
          -->

  <coordinaterules set="Lent" start="Ash Wednesday" stopbefore="Easter"
    start-date="02-04" stop-date="04-24" overlap-priority="3">
    <text>L</text>
    <format template="00">
      <count-weeks-between>
        <days-before nr="49">
          <easterdate/>
        </days-before>
        <weekday-before-or-self day="Sunday">
          <this-date/>
        </weekday-before-or-self>
      </count-weeks-between>
    </format>
    <day-number>
      <this-date/>
    </day-number>
  </coordinaterules>

  <liturgicalday>
    <template>
     <name>Ash Wednesday</name>
      <season>Season of Lent</season>
      <tide>Lent</tide>
      <set>Lent</set>
      <coordinates>L004</coordinates>
      <rank nr="5">Ash Wednesday</rank>
      <daterules>
        <days-before nr="46">
          <easterdate/>
        </days-before>
      </daterules>
    </template>
  </liturgicalday>
  
  <liturgicalday>
    <parameters>
      <parametergroup><day_s>Thursday</day_s><nr_i>45</nr_i><nr_c>05</nr_c></parametergroup>
      <parametergroup><day_s>Friday</day_s><nr_i>44</nr_i><nr_c>06</nr_c></parametergroup>
      <parametergroup><day_s>Saturday</day_s><nr_i>43</nr_i><nr_c>07</nr_c></parametergroup>
    </parameters>
    <template>
     <name>$day_s after Ash Wednesday</name>
      <season>Season of Lent</season>
      <tide>Lent</tide>
      <set>Lent</set>
      <coordinates>L0$nr_c</coordinates>
      <rank nr="15">Ferias of Lent</rank>
      <daterules>
        <days-before nr="$nr_i">
          <easterdate/>
        </days-before>
      </daterules>
    </template>
  </liturgicalday>

  <liturgicalday>
    <parameters>
        <parametergroup><day_s>Wednesday</day_s><day_c>4</day_c></parametergroup>
        <parametergroup><day_s>Friday</day_s><day_c>6</day_c></parametergroup>
        <parametergroup><day_s>Saturday</day_s><day_c>7</day_c></parametergroup>
    </parameters>
    <template>
     <name>Ember $day_s in Lent</name>
      <season>Season of Lent</season>
      <tide>Lent</tide>
      <set>Lent</set>
      <coordinates>L01$day_c</coordinates>
      <rank nr="10">Ember day of Lent</rank>
      <daterules>
        <weekday-after day="$day_s">
          <weeks-before nr="6">
            <easterdate/>
          </weeks-before>
        </weekday-after>
      </daterules>
    </template>
  </liturgicalday>

  <liturgicalday>
    <parameters>
      <parametergroup><nr_s>First</nr_s><nr_i>6</nr_i><nr_c>01</nr_c></parametergroup>
      <parametergroup><nr_s>Second</nr_s><nr_i>5</nr_i><nr_c>02</nr_c></parametergroup>
      <parametergroup><nr_s>Third</nr_s><nr_i>4</nr_i><nr_c>03</nr_c></parametergroup>
      <parametergroup><nr_s>Fourth</nr_s><nr_i>3</nr_i><nr_c>04</nr_c></parametergroup>
    </parameters>
    <template>
     <name>$nr_s Sunday of Lent</name>
      <season>Season of Lent</season>
      <tide>Lent</tide>
      <set>Lent</set>
      <coordinates>L$nr_c1</coordinates>
      <rank nr="3">Sunday I-IV Lent</rank>
      <daterules>
        <weeks-before nr="$nr_i">
          <easterdate/>
        </weeks-before>
      </daterules>
    </template>
  </liturgicalday>

  <liturgicalday>
    <parameters>
      <parameters>
        <parametergroup>
          <day_s>Monday</day_s><day_c>2</day_c>
        </parametergroup>
        <parametergroup>
          <day_s>Tuesday</day_s><day_c>3</day_c>
        </parametergroup>
        <parametergroup>
          <day_s>Wednesday</day_s><day_c>4</day_c>
        </parametergroup>
        <parametergroup>
          <day_s>Thursday</day_s><day_c>5</day_c>
        </parametergroup>
        <parametergroup>
          <day_s>Friday</day_s><day_c>6</day_c>
        </parametergroup>
        <parametergroup>
          <day_s>Saturday</day_s><day_c>7</day_c>
        </parametergroup>
      </parameters>
<parametergroup><nr_s>First</nr_s><nr_i>6</nr_i><nr_c>01</nr_c></parametergroup>
      <parametergroup><nr_s>Second</nr_s><nr_i>5</nr_i><nr_c>02</nr_c></parametergroup>
      <parametergroup><nr_s>Third</nr_s><nr_i>4</nr_i><nr_c>03</nr_c></parametergroup>
      <parametergroup><nr_s>Fourth</nr_s><nr_i>3</nr_i><nr_c>04</nr_c></parametergroup>
    </parameters>
    <template>
     <name>$day_s in the $nr_s week of Lent</name>
      <season>Season of Lent</season>
      <tide>Lent</tide>
      <set>Lent</set>
      <coordinates>L$nr_c$day_c</coordinates>
      <rank nr="18">Ferias IV class</rank>
      <daterules>
        <weekday-after day="$day_s">
          <weeks-before nr="$nr_i">
            <easterdate/>
          </weeks-before>
        </weekday-after>
      </daterules>
    </template>
  </liturgicalday>

  <liturgicalday>
    <template>
      <name>Passion Sunday</name>
      <season>Season of Lent</season>
      <tide>Passion Tide</tide>
      <set>Lent</set>
      <coordinates>L051</coordinates>
      <rank nr="3">Sunday I-II Passiontide</rank>
      <daterules>
        <weeks-before nr="2">
          <easterdate/>
        </weeks-before>
      </daterules>
    </template>
  </liturgicalday>
  
  <liturgicalday>
    <parameters>
        <parametergroup>
          <day_s>Monday</day_s><day_c>2</day_c>
        </parametergroup>
        <parametergroup>
          <day_s>Tuesday</day_s><day_c>3</day_c>
        </parametergroup>
        <parametergroup>
          <day_s>Wednesday</day_s><day_c>4</day_c>
        </parametergroup>
        <parametergroup>
          <day_s>Thursday</day_s><day_c>5</day_c>
        </parametergroup>
        <parametergroup>
          <day_s>Friday</day_s><day_c>6</day_c>
        </parametergroup>
        <parametergroup>
          <day_s>Saturday</day_s><day_c>7</day_c>
        </parametergroup>
    </parameters>
    <template>
     <name>$day_s in the Passion Week</name>
      <season>Season of Lent</season>
      <tide>Passion Tide</tide>
      <set>Lent</set>
      <coordinates>L05$day_c</coordinates>
      <rank nr="18">Ferias IV class</rank>
      <daterules>
        <weekday-after day="$day_s">
          <weeks-before nr="2">
            <easterdate/>
          </weeks-before>
        </weekday-after>
      </daterules>
    </template>
  </liturgicalday>

  <liturgicalday>
    <template>
      <name>Palm Sunday</name>
      <season>Season of Lent</season>
      <tide>Passion Tide</tide>
      <set>Lent</set>
      <coordinates>L061</coordinates>
      <rank nr="3">Sunday I-II Passiontide</rank>
      <daterules>
        <weeks-before nr="1">
          <easterdate/>
        </weeks-before>
      </daterules>
    </template>
  </liturgicalday>
  
  <liturgicalday>
    <parameters>
      <parametergroup><day_s>Monday</day_s><nr_i>6</nr_i><day_c>2</day_c></parametergroup>
      <parametergroup><day_s>Tuesday</day_s><nr_i>5</nr_i><day_c>3</day_c></parametergroup>
      <parametergroup><day_s>Wednesday</day_s><nr_i>4</nr_i><day_c>4</day_c></parametergroup>
    </parameters>
    <template>
      <name>$day_s in the Holy Week</name>
      <season>Season of Lent</season>
      <tide>Passion Tide</tide>
      <set>Lent</set>
      <coordinates>L06$day_c</coordinates>
      <rank nr="5">Ferias Holy Week</rank>
      <daterules>
        <days-before nr="$nr_i">
          <easterdate/>
        </days-before>
      </daterules>
    </template>
  </liturgicalday>
  
  <liturgicalday>
    <template>
     <name>Holy Thursday</name>
      <season>Season of Lent</season>
      <tide>Passion Tide</tide>
      <set>Lent</set>
      <coordinates>L065</coordinates>
      <rank nr="5">Ferias Holy Week</rank>
      <daterules>
        <days-before nr="3">
          <easterdate/>
        </days-before>
      </daterules>
    </template>
  </liturgicalday>
  
  <liturgicalday>
    <template>
     <name>Good Friday</name>
      <season>Season of Lent</season>
      <tide>Passion Tide</tide>
      <set>Lent</set>
      <coordinates>L066</coordinates>
      <rank nr="5">Ferias Holy Week</rank>
      <!-- the vigil mass of Good Friday is the evening Mass of the Lord's Supper-->
      <daterules>
        <days-before nr="2">
          <easterdate/>
        </days-before>
      </daterules>
    </template>
  </liturgicalday>
  
  <liturgicalday>
    <template>
     <name>Holy Saturday</name>
      <season>Season of Lent</season>
      <tide>Passion Tide</tide>
      <set>Lent</set>
      <coordinates>L067</coordinates>
      <rank nr="5">Ferias Holy Week</rank>
      <daterules>
        <days-before nr="1">
          <easterdate/>
        </days-before>
      </daterules>
    </template>
  </liturgicalday>
  
  <!--
       EASTER 
              -->

  <coordinaterules set="Easter" start="Vigil of Easter" stop="Octave day of Pentecost"
    start-date="03-24" stop-date="06-19" overlap-priority="9">
    <text>P</text>
    <format template="00">
      <count-weeks-between>
        <weeks-before nr="1">
          <easterdate/>
        </weeks-before>
        <weekday-before-or-self day="Sunday">
          <this-date/>
        </weekday-before-or-self>
      </count-weeks-between>
    </format>
    <day-number>
      <this-date/>
    </day-number>
  </coordinaterules>

  <liturgicalday>
    <template>
     <name>Easter Vigil</name>
      <season>Season of Easter</season>
      <tide>Easter Tide</tide>
      <set>Easter</set>
      <coordinates>P007</coordinates>
      <rank nr="4">Octave of Easter</rank>
      <daterules>
        <days-before nr="1">
          <easterdate/>
        </days-before>
      </daterules>
    </template>
  </liturgicalday>
  
  <liturgicalday>
    <template>
     <name>Easter</name>
      <season>Season of Easter</season>
      <tide>Easter Tide</tide>
      <set>Easter</set>
      <coordinates>P011</coordinates>
      <rank nr="3">Easter Sunday</rank>
      <daterules>
        <easterdate/>
      </daterules>
    </template>
  </liturgicalday>
  
  <liturgicalday>
    <template>
      <name>Low Sunday</name>
      <season>Easter season</season>
      <tide>Easter Tide</tide>
      <set>Easter</set>
      <coordinates>P021</coordinates>
      <rank nr="3">Low Sunday</rank>
      <daterules>
        <weeks-after nr="1">
          <easterdate/>
        </weeks-after>
      </daterules>
    </template>
  </liturgicalday>
  
  <liturgicalday>
    <parameters>
      <parametergroup><nr_s>Second</nr_s><nr_i>2</nr_i><nr_c>03</nr_c></parametergroup>
      <parametergroup><nr_s>Third</nr_s><nr_i>3</nr_i><nr_c>04</nr_c></parametergroup>
      <parametergroup><nr_s>Fourth</nr_s><nr_i>4</nr_i><nr_c>05</nr_c></parametergroup>
      <parametergroup><nr_s>Fifth</nr_s><nr_i>5</nr_i><nr_c>06</nr_c></parametergroup>
    </parameters>
    <template>
     <name>$nr_s Sunday after Easter</name>
      <season>Easter season</season>
      <tide>Easter Tide</tide>
      <set>Easter</set>
      <coordinates>P$nr_c1</coordinates>
      <rank nr="9">Sunday II class</rank>
      <daterules>
        <weeks-after nr="$nr_i">
          <easterdate/>
        </weeks-after>
      </daterules>
    </template>
  </liturgicalday>
  
  <liturgicalday>
    <parameters>
      <parametergroup><day_s>Monday</day_s><nr_i>1</nr_i><day_c>2</day_c></parametergroup>
      <parametergroup><day_s>Tuesday</day_s><nr_i>2</nr_i><day_c>3</day_c></parametergroup>
      <parametergroup><day_s>Wednesday</day_s><nr_i>3</nr_i><day_c>4</day_c></parametergroup>
      <parametergroup><day_s>Thursday</day_s><nr_i>4</nr_i><day_c>5</day_c></parametergroup>
      <parametergroup><day_s>Friday</day_s><nr_i>5</nr_i><day_c>6</day_c></parametergroup>
      <parametergroup><day_s>Saturday</day_s><nr_i>6</nr_i><day_c>7</day_c></parametergroup>
    </parameters>
    <template>
     <name>$day_s in the octave of Easter</name>
      <season>Easter season</season>
      <tide>Easter Tide</tide>
      <set>Easter</set>
      <coordinates>P01$day_c</coordinates>
      <rank nr="4">Octave of Easter</rank>
      <daterules>
        <days-after nr="$nr_i">
          <easterdate/>
        </days-after>
      </daterules>
    </template>
  </liturgicalday>

  <liturgicalday>
    <parameters>
      <parameters>
        <parametergroup>
          <day_s>Monday</day_s><day_c>2</day_c>
        </parametergroup>
        <parametergroup>
          <day_s>Tuesday</day_s><day_c>3</day_c>
        </parametergroup>
        <parametergroup>
          <day_s>Wednesday</day_s><day_c>4</day_c>
        </parametergroup>
        <parametergroup>
          <day_s>Thursday</day_s><day_c>5</day_c>
        </parametergroup>
        <parametergroup>
          <day_s>Friday</day_s><day_c>6</day_c>
        </parametergroup>
        <parametergroup>
          <day_s>Saturday</day_s><day_c>7</day_c>
        </parametergroup>
      </parameters>
<parametergroup><nr_s>Second</nr_s><nr_i>2</nr_i><nr_c>03</nr_c></parametergroup>
      <parametergroup><nr_s>Third</nr_s><nr_i>3</nr_i><nr_c>04</nr_c></parametergroup>
      <parametergroup><nr_s>Fourth</nr_s><nr_i>4</nr_i><nr_c>05</nr_c></parametergroup>
      <parametergroup><nr_s>Fifth</nr_s><nr_i>5</nr_i><nr_c>06</nr_c></parametergroup>
    </parameters>
    <template>
     <name>$day_s in the $nr_s week after Easter</name>
      <season>Easter Season</season>
      <tide>Easter Tide</tide>
      <set>Easter</set>
      <coordinates>P$nr_c$day_c</coordinates>
      <rank nr="18">Ferias IV class</rank>
      <daterules>
        <weekday-after day="$day_s">
          <weeks-after nr="$nr_i">
            <easterdate/>
          </weeks-after>
        </weekday-after>
      </daterules>
    </template>
  </liturgicalday>

  <liturgicalday>
    <parameters>
      <parametergroup><day_s>Monday</day_s><nr_i>36</nr_i><day_c>2</day_c></parametergroup>
      <parametergroup><day_s>Tuesday</day_s><nr_i>37</nr_i><day_c>3</day_c></parametergroup>
      <parametergroup><day_s>Wednesday</day_s><nr_i>38</nr_i><day_c>4</day_c></parametergroup>
    </parameters>
    <template>
      <name>Rogation Day</name>
      <alternativename>$day_s before the Ascension of the Lord</alternativename> 
      <season>Easter season</season>
      <tide>Easter Tide</tide>
      <set>Easter</set>
      <coordinates>P06$day_c</coordinates>
      <rank nr="15">Ferias III class</rank>
      <coincideswith>Q064</coincideswith>
      <daterules>
        <days-after nr="$nr_i">
          <easterdate/>
        </days-after>
      </daterules>
    </template>
  </liturgicalday>
  
  <!--
       ASCENSION AND PENTECOST 
              -->

  <coordinaterules set="Ascension" start="Vigil of the Ascension of the Lord" stop="Sunday after the Ascension of the Lord"
    start-date="03-24" stop-date="06-19" overlap-priority="6">
    <text>Q</text>
    <format template="00">
      <count-weeks-between>
        <weeks-before nr="1">
          <easterdate/>
        </weeks-before>
        <weekday-before-or-self day="Sunday">
          <this-date/>
        </weekday-before-or-self>
      </count-weeks-between>
    </format>
    <day-number>
      <this-date/>
    </day-number>
  </coordinaterules>

  <liturgicalday>
    <template>
     <name>Vigil of the Ascension of the Lord</name>
      <season>Easter season</season>
      <tide>Ascension Tide</tide>
      <set>Ascension</set>
      <coordinates>Q064</coordinates>
      <rank nr="14">Vigils II class</rank>
      <daterules>
        <days-after nr="38">
          <easterdate/>
        </days-after>
      </daterules>
    </template>
  </liturgicalday>
  
  <liturgicalday>
    <template>
     <name>Ascension of the Lord</name>
      <season>Easter season</season>
      <tide>Ascension Tide</tide>
      <set>Ascension</set>
      <coordinates>Q065</coordinates>
      <rank nr="6">Feasts of the Lord I class</rank>
      <daterules>
        <days-after nr="39">
          <easterdate/>
        </days-after>
      </daterules>
    </template>
  </liturgicalday>
  
  <liturgicalday>
    <parameters>
      <parametergroup><day_s>Friday</day_s><nr_i>40</nr_i><day_c>6</day_c></parametergroup>
      <parametergroup><day_s>Saturday</day_s><nr_i>41</nr_i><day_c>7</day_c></parametergroup>
          </parameters>
    <template>
      <name>$day_s after the Ascension of the Lord</name>
      <season>Easter season</season>
      <tide>Ascension Tide</tide>
      <set>Ascension</set>
      <coordinates>Q06$day_c</coordinates>
      <rank nr="18">Ferias IV class</rank>
      <daterules>
        <days-after nr="$nr_i">
          <easterdate/>
        </days-after>
      </daterules>
    </template>
  </liturgicalday>

  <liturgicalday>
    <template>
     <name>Sunday after the Ascension of the Lord</name>
      <season>Easter season</season>
      <tide>Ascension Tide</tide>
      <set>Ascension</set>
      <coordinates>Q071</coordinates>
      <rank nr="9">Sunday II class</rank>
      <daterules>
        <days-after nr="42">
          <easterdate/>
        </days-after>
      </daterules>
    </template>
  </liturgicalday>
  
  <liturgicalday>
    <parameters>
<parametergroup><day_s>Monday</day_s><nr_i>43</nr_i><day_c>2</day_c></parametergroup>
<parametergroup><day_s>Tuesday</day_s><nr_i>44</nr_i><day_c>3</day_c></parametergroup>
<parametergroup><day_s>Wednesday</day_s><nr_i>45</nr_i><day_c>4</day_c></parametergroup>
      <parametergroup><day_s>Friday</day_s><nr_i>46</nr_i><day_c>5</day_c></parametergroup>
      <parametergroup><day_s>Saturday</day_s><nr_i>47</nr_i><day_c>6</day_c></parametergroup>
          </parameters>
    <template>
      <name>$day_s in the week after the Ascension of the Lord</name>
      <season>Easter season</season>
      <tide>Ascension Tide</tide>
      <set>Ascension</set>
      <coordinates>Q07$day_c</coordinates>
      <rank nr="18">Ferias IV class</rank>
      <daterules>
        <days-after nr="$nr_i">
          <easterdate/>
        </days-after>
      </daterules>
    </template>
  </liturgicalday>

  <liturgicalday>
    <template>
     <name>Vigil of Pentecost</name>
      <season>Easter season</season>
      <tide>Pentecost Tide</tide>
      <set>Ascension</set>
      <coordinates>Q077</coordinates>
      <rank nr="2">Vigil of Pentecost</rank>
      <daterules>
        <days-after nr="48">
          <easterdate/>
        </days-after>
      </daterules>
    </template>
  </liturgicalday>
  
  <liturgicalday>
    <template>
     <name>Pentecost</name>
      <season>Easter season</season>
      <tide>Pentecost Tide</tide>
      <set>Ascension</set>
      <coordinates>Q081</coordinates>
      <rank nr="3">Pentecost</rank>
      <daterules>
        <days-after nr="49">
          <easterdate/>
        </days-after>
      </daterules>
    </template>
  </liturgicalday>
  
  <liturgicalday>
    <template>
     <name>Monday after Pentecost</name>
      <season>Easter season</season>
      <tide>Pentecost Tide</tide>
      <set>Ascension</set>
      <coordinates>Q082</coordinates>
      <rank nr="4">Octave of Pentecost</rank>
      <daterules>
        <days-after nr="50">
          <easterdate/>
        </days-after>
      </daterules>
    </template>
  </liturgicalday>
  
  <liturgicalday>
    <parameters>
      <parametergroup><day_s>Monday</day_s><nr_i>50</nr_i><day_c>2</day_c></parametergroup>
      <parametergroup><day_s>Tuesday</day_s><nr_i>51</nr_i><day_c>3</day_c></parametergroup>
      <parametergroup><day_s>Thursday</day_s><nr_i>53</nr_i><day_c>5</day_c></parametergroup>
    </parameters>
    <template>
     <name>$day_s after Pentecost</name>
      <season>Easter season</season>
      <tide>Pentecost Tide</tide>
      <set>Ascension</set>
      <coordinates>Q08$day_c</coordinates>
      <rank nr="4">Octave of Pentecost</rank>
      <daterules>
        <days-after nr="$nr_i">
          <easterdate/>
        </days-after>
      </daterules>
    </template>
  </liturgicalday>
  
  <liturgicalday>
    <parameters>
      <parametergroup><day_s>Wednesday</day_s><nr_i>53</nr_i><day_c>4</day_c></parametergroup>
      <parametergroup><day_s>Friday</day_s><nr_i>55</nr_i><day_c>6</day_c></parametergroup>
      <parametergroup><day_s>Saturday</day_s><nr_i>56</nr_i><day_c>7</day_c></parametergroup>
    </parameters>
    <template>
     <name>Ember $day_s after Pentecost</name>
      <season>Easter season</season>
      <tide>Pentecost Tide</tide>
      <set>Ascension</set>
      <coordinates>Q08$day_c</coordinates>
      <rank nr="4">Octave of Pentecost</rank>
      <daterules>
        <days-after nr="$nr_i">
          <easterdate/>
        </days-after>
      </daterules>
    </template>
  </liturgicalday>
  
  <!-- 
       SPECIAL DAYS AFTER EASTER
                                 -->
  
  <coordinaterules set="Special days after Easter" crosscheck="true"
    start-date="04-30" stop-date="07-05" overlap-priority="6">
    <query-set set="Special days after Easter"/>
  </coordinaterules>

  <liturgicalday>
    <parameters>
      <parametergroup><name>Trinity Sunday</name><days>56</days><c>P091</c></parametergroup>
      <parametergroup><name>Corpus Christi</name><days>60</days><c>P095</c></parametergroup>
      <parametergroup><name>Solemnity of the Sacred Heart of Jezus</name><days>68</days><c>P106</c></parametergroup>
    </parameters>
    <template>
      <name>$name</name>
      <season>Season per annum</season>
      <set>Special days after Easter</set>
      <coordinates>$c</coordinates>
      <rank nr="6">Feasts of the Lord I class</rank>
      <daterules>
        <transfer rank="6" sets="Fixed dates">
          <days-after nr="$days">
            <easterdate/>
          </days-after>
        </transfer>
      </daterules>
    </template>
  </liturgicalday>

  <!-- 
       ORDINARY AFTER EASTER 
                              -->  
  
  <coordinaterules set="Ordinary after Easter" startafter="Pentecost" stop="Twenty-fourth and last Sunday after Pentecost"
    start-date="05-11" stop-date="12-01" overlap-priority="9">
    <text>Y</text>
    <format template="00">
      <count-weeks-between>
        <days-after nr="49">
          <easterdate/>
        </days-after><!-- Pentecost -->
        <weekday-before-or-self day="Sunday">
          <this-date/>
        </weekday-before-or-self>
      </count-weeks-between>
    </format>
    <day-number>
      <this-date/>
    </day-number>
  </coordinaterules>
  
  <liturgicalday>
    <parameters>
      <parametergroup><nr_s>First</nr_s><nr_i>0</nr_i><nr_c>01</nr_c></parametergroup>
<parametergroup><nr_s>Second</nr_s><nr_i>1</nr_i><nr_c>02</nr_c></parametergroup>
      <parametergroup><nr_s>Third</nr_s><nr_i>2</nr_i><nr_c>03</nr_c></parametergroup>
      <parametergroup><nr_s>Fourth</nr_s><nr_i>3</nr_i><nr_c>04</nr_c></parametergroup>
      <parametergroup><nr_s>Fifth</nr_s><nr_i>4</nr_i><nr_c>05</nr_c></parametergroup>
      <parametergroup><nr_s>Sixth</nr_s><nr_i>5</nr_i><nr_c>06</nr_c></parametergroup>
      <parametergroup><nr_s>Seventh</nr_s><nr_i>6</nr_i><nr_c>07</nr_c></parametergroup>
      <parametergroup><nr_s>Eighth</nr_s><nr_i>7</nr_i><nr_c>08</nr_c></parametergroup>
      <parametergroup><nr_s>Ninth</nr_s><nr_i>8</nr_i><nr_c>09</nr_c></parametergroup>
      <parametergroup><nr_s>Tenth</nr_s><nr_i>9</nr_i><nr_c>10</nr_c></parametergroup>
      <parametergroup><nr_s>Eleventh</nr_s><nr_i>10</nr_i><nr_c>11</nr_c></parametergroup>
      <parametergroup><nr_s>Twelfth</nr_s><nr_i>11</nr_i><nr_c>12</nr_c></parametergroup>
      <parametergroup><nr_s>Thirtheenth</nr_s><nr_i>12</nr_i><nr_c>13</nr_c></parametergroup>
      <parametergroup><nr_s>Fourteenth</nr_s><nr_i>13</nr_i><nr_c>14</nr_c></parametergroup>
      <parametergroup><nr_s>Fifteenth</nr_s><nr_i>14</nr_i><nr_c>15</nr_c></parametergroup>
      <parametergroup><nr_s>Sixteenth</nr_s><nr_i>15</nr_i><nr_c>16</nr_c></parametergroup>
      <parametergroup><nr_s>Seventeenth</nr_s><nr_i>16</nr_i><nr_c>17</nr_c></parametergroup>
      <parametergroup><nr_s>Eighteenth</nr_s><nr_i>17</nr_i><nr_c>18</nr_c></parametergroup>
      <parametergroup><nr_s>Nineteenth</nr_s><nr_i>18</nr_i><nr_c>19</nr_c></parametergroup>
      <parametergroup><nr_s>Twentieth</nr_s><nr_i>19</nr_i><nr_c>20</nr_c></parametergroup>
      <parametergroup><nr_s>Twenty-first</nr_s><nr_i>20</nr_i><nr_c>21</nr_c></parametergroup>
      <parametergroup><nr_s>Twenty-second</nr_s><nr_i>21</nr_i><nr_c>22</nr_c></parametergroup>
      <parametergroup><nr_s>Twenth-third</nr_s><nr_i>22</nr_i><nr_c>23</nr_c></parametergroup>
      <parametergroup><nr_s>Twenty-fourth</nr_s><nr_i>23</nr_i><nr_c>24</nr_c></parametergroup>
      <parametergroup><nr_s>Twenty-fifth</nr_s><nr_i>24</nr_i><nr_c>25</nr_c></parametergroup>
      <parametergroup><nr_s>Twenty-sixth</nr_s><nr_i>25</nr_i><nr_c>26</nr_c></parametergroup>
      <parametergroup><nr_s>Twenty-seventh</nr_s><nr_i>26</nr_i><nr_c>27</nr_c></parametergroup>
      <parametergroup><nr_s>Twenty-eighth</nr_s><nr_i>27</nr_i><nr_c>28</nr_c></parametergroup>
      <parametergroup><nr_s>Twenty-ninth</nr_s><nr_i>28</nr_i><nr_c>29</nr_c></parametergroup>
      <parametergroup><nr_s>Thirtieth</nr_s><nr_i>29</nr_i><nr_c>30</nr_c></parametergroup>
      <parametergroup><nr_s>Thirty-first</nr_s><nr_i>30</nr_i><nr_c>31</nr_c></parametergroup>
      <parametergroup><nr_s>Thirty-second</nr_s><nr_i>31</nr_i><nr_c>32</nr_c></parametergroup>
      <parametergroup><nr_s>Thirty-third</nr_s><nr_i>32</nr_i><nr_c>33</nr_c></parametergroup>
    </parameters>
    <template>
     <name>$nr_s Sunday after Pentecost</name>
      <season>Season per annum</season>
      <set>Ordinary after Easter</set>
      <coordinates>Y$nr_c1</coordinates>
      <precedence>1</precedence><!-- to give precedence to Last Sunday-->
      <rank nr="9">Sunday II class</rank>
      <daterules>
        <weeks-after nr="$nr_i">
          <days-after nr="49">
            <easterdate/>
          </days-after><!-- Pentecost -->
        </weeks-after>
      </daterules>
    </template>
  </liturgicalday>
  

  <liturgicalday>
    <parameters>
      <parameters>
        <parametergroup>
          <day_s>Monday</day_s><day_c>2</day_c>
        </parametergroup>
        <parametergroup>
          <day_s>Tuesday</day_s><day_c>3</day_c>
        </parametergroup>
        <parametergroup>
          <day_s>Wednesday</day_s><day_c>4</day_c>
        </parametergroup>
        <parametergroup>
          <day_s>Thursday</day_s><day_c>5</day_c>
        </parametergroup>
        <parametergroup>
          <day_s>Friday</day_s><day_c>6</day_c>
        </parametergroup>
        <parametergroup>
          <day_s>Saturday</day_s><day_c>7</day_c>
        </parametergroup>
      </parameters>
<parametergroup><nr_s>Second</nr_s><nr_i>1</nr_i><nr_c>02</nr_c></parametergroup>
      <parametergroup><nr_s>Third</nr_s><nr_i>2</nr_i><nr_c>03</nr_c></parametergroup>
      <parametergroup><nr_s>Fourth</nr_s><nr_i>3</nr_i><nr_c>04</nr_c></parametergroup>
      <parametergroup><nr_s>Fifth</nr_s><nr_i>4</nr_i><nr_c>05</nr_c></parametergroup>
      <parametergroup><nr_s>Sixth</nr_s><nr_i>5</nr_i><nr_c>06</nr_c></parametergroup>
      <parametergroup><nr_s>Seventh</nr_s><nr_i>6</nr_i><nr_c>07</nr_c></parametergroup>
      <parametergroup><nr_s>Eighth</nr_s><nr_i>7</nr_i><nr_c>08</nr_c></parametergroup>
      <parametergroup><nr_s>Ninth</nr_s><nr_i>8</nr_i><nr_c>09</nr_c></parametergroup>
      <parametergroup><nr_s>Tenth</nr_s><nr_i>9</nr_i><nr_c>10</nr_c></parametergroup>
      <parametergroup><nr_s>Eleventh</nr_s><nr_i>10</nr_i><nr_c>11</nr_c></parametergroup>
      <parametergroup><nr_s>Twelfth</nr_s><nr_i>11</nr_i><nr_c>12</nr_c></parametergroup>
      <parametergroup><nr_s>Thirtheenth</nr_s><nr_i>12</nr_i><nr_c>13</nr_c></parametergroup>
      <parametergroup><nr_s>Fourteenth</nr_s><nr_i>13</nr_i><nr_c>14</nr_c></parametergroup>
      <parametergroup><nr_s>Fifteenth</nr_s><nr_i>14</nr_i><nr_c>15</nr_c></parametergroup>
      <parametergroup><nr_s>Sixteenth</nr_s><nr_i>15</nr_i><nr_c>16</nr_c></parametergroup>
      <parametergroup><nr_s>Seventeenth</nr_s><nr_i>16</nr_i><nr_c>17</nr_c></parametergroup>
      <parametergroup><nr_s>Eighteenth</nr_s><nr_i>17</nr_i><nr_c>18</nr_c></parametergroup>
      <parametergroup><nr_s>Nineteenth</nr_s><nr_i>18</nr_i><nr_c>19</nr_c></parametergroup>
      <parametergroup><nr_s>Twentieth</nr_s><nr_i>19</nr_i><nr_c>20</nr_c></parametergroup>
      <parametergroup><nr_s>Twenty-first</nr_s><nr_i>20</nr_i><nr_c>21</nr_c></parametergroup>
      <parametergroup><nr_s>Twenty-second</nr_s><nr_i>21</nr_i><nr_c>22</nr_c></parametergroup>
      <parametergroup><nr_s>Twenth-third</nr_s><nr_i>22</nr_i><nr_c>23</nr_c></parametergroup>
      <parametergroup><nr_s>Twenty-fourth</nr_s><nr_i>23</nr_i><nr_c>24</nr_c></parametergroup>
      <parametergroup><nr_s>Twenty-fifth</nr_s><nr_i>24</nr_i><nr_c>25</nr_c></parametergroup>
      <parametergroup><nr_s>Twenty-sixth</nr_s><nr_i>25</nr_i><nr_c>26</nr_c></parametergroup>
      <parametergroup><nr_s>Twenty-seventh</nr_s><nr_i>26</nr_i><nr_c>27</nr_c></parametergroup>
      <parametergroup><nr_s>Twenty-eighth</nr_s><nr_i>27</nr_i><nr_c>28</nr_c></parametergroup>
      <parametergroup><nr_s>Twenty-ninth</nr_s><nr_i>28</nr_i><nr_c>29</nr_c></parametergroup>
      <parametergroup><nr_s>Thirtieth</nr_s><nr_i>29</nr_i><nr_c>30</nr_c></parametergroup>
      <parametergroup><nr_s>Thirty-first</nr_s><nr_i>30</nr_i><nr_c>31</nr_c></parametergroup>
      <parametergroup><nr_s>Thirty-second</nr_s><nr_i>31</nr_i><nr_c>32</nr_c></parametergroup>
      <parametergroup><nr_s>Thirty-third</nr_s><nr_i>32</nr_i><nr_c>33</nr_c></parametergroup>
    </parameters>
    <template>
     <name>$day_s in the $nr_s week after Pentecost</name>
      <season>Season per Annum</season>
      <set>Ordinary after Easter</set>
      <coordinates>Y$nr_c$day_c</coordinates>
      <rank nr="18">Ferias IV class</rank>
      <daterules>
        <weekday-after day="$day_s">
          <weeks-after nr="$nr_i">
            <days-after nr="49">
              <easterdate/>
            </days-after><!-- Pentecost -->
          </weeks-after>
        </weekday-after>
      </daterules>
    </template>
  </liturgicalday>

  <!-- 
       EMBER DAYS OF SEPTEMBER 
                              -->  
  
  <coordinaterules set="Ember days of September"
    start-date="09-15" stop-date="09-28" overlap-priority="10">
    <query-coordinates set="Ember days of September">
      <text>S</text>
      <day-number>
        <this-date/>
      </day-number>
    </query-coordinates>
  </coordinaterules>
  
  <liturgicalday>
    <parameters>
      <parameters>
        <parametergroup><day_s>Wednesday</day_s><day_c>4</day_c></parametergroup>
        <parametergroup><day_s>Friday</day_s><day_c>6</day_c></parametergroup>
        <parametergroup><day_s>Saturday</day_s><day_c>7</day_c></parametergroup>
      </parameters>
      <parametergroup><nr_s>Third</nr_s><nr_i>1</nr_i><nr_c>03</nr_c></parametergroup>
    </parameters>
    <template>
     <name>Ember $day_s in September</name>
      <season>Season per annum</season>
      <set>Ember days of September</set>
      <coordinates>S$day_c</coordinates>
      <rank nr="10">Ember day of September</rank>
      <!-- http://catholicism.about.com/b/2009/09/17/reader-question-confusion-about-ember-days.htm -->
      <daterules>
        <weekday-after day="$day_s">
          <weeks-after nr="2"><!-- third Sunday of September-->
            <weekday-after day="Sunday"><!-- first Sunday of September -->
              <date day="31" month="08"/>
            </weekday-after>
          </weeks-after>
        </weekday-after>
      </daterules>
    </template>
  </liturgicalday>


<!-- 
     CHRIST THE KING
                              -->

  <coordinaterules set="Christ the King"
    start-date="10-24" stop-date="10-31" overlap-priority="6">
    <if>
      <test>
        <equals>
          <this-date/>
          <weekday-before day="Sunday">
            <date day="01" month="11"/>
          </weekday-before>
        </equals>
      </test>
      <then>
        <text>CHK</text>
      </then>
    </if>
  </coordinaterules>

  <liturgicalday>
    <template>
     <name>Christ the King</name>
      <season>Season per annum</season>
      <set>Christ the King</set>
      <coordinates>CHK</coordinates>
      <rank nr="6">Feasts of the Lord I class</rank>
      <daterules>
        <weekday-before day="Sunday">
          <date day="01" month="11"/>
        </weekday-before>
      </daterules>
    </template>
  </liturgicalday>

<!-- 
     LAST SUNDAY
                              -->

  <coordinaterules set="Last Sunday"
    start-date="11-20" stop-date="11-26" overlap-priority="9">
    <if>
      <test>
        <equals>
          <this-date/>
          <weeks-before nr="1">
            <relative-to-next-years name="First Sunday of Advent"/>
          </weeks-before>
        </equals>
      </test>
      <then>
        <text>24S</text>
      </then>
    </if>
  </coordinaterules>

  <liturgicalday>
    <template>
     <name>Twenty-fourth and Last Sunday after Pentecost</name>
      <season>Season per annum</season>
      <set>Last Sunday</set>
      <coordinates>24S</coordinates>
      <rank nr="9">Sunday II class</rank>
      <daterules>
        <weeks-before nr="1">
          <relative-to-next-years name="First Sunday of Advent"/>
        </weeks-before>
      </daterules>
    </template>
  </liturgicalday>
  
  <!--
      ST. MATTHIAS, APPOSTLE 
                            -->
  
  <coordinaterules set="Matthias"
    start-date="02-24" stop-date="02-25" overlap-priority="7">
    <query-set set="Matthias"/>
  </coordinaterules>

  <liturgicalday>
    <template>
     <name>St. Matthias Apostle</name>
      <season>Season per annum</season>
      <set>Matthias</set>
      <coordinates>MAT</coordinates>
      <rank nr="7">Feasts of the Lord II class</rank>
      <daterules>
        <if>
          <test>
            <equals>
              <days-before nr="1">
                <date day="1" month="3"/>
              </days-before>
              <date day="28" month="2"/>
            </equals>
          </test>
          <then>
            <date day="24" month="2"/>
          </then>
          <else>
            <date day="25" month="2"/>
          </else>
        </if>
      </daterules>
    </template>
  </liturgicalday>

  <!--
      GREATER LITANIES 
                            -->
  
  <coordinaterules set="Greater Litanies"
    start-date="04-24" stop-date="04-27" overlap-priority="7">
    <query-set set="Greater Litanies"/>
  </coordinaterules>

  <liturgicalday>
    <template>
     <name>Greater Litanies</name>
      <season>Season per annum</season>
      <set>Greater Litanies</set>
      <coordinates>GRL</coordinates>
      <rank nr="2">Greater Litanies</rank>
      <daterules>
        <if>
          <test>
            <or>
              <equals>
                <easterdate/>
                <date day="24" month="4"/>
              </equals>
              <equals>
                <easterdate/>
                <date day="25" month="4"/>
              </equals>
            </or>
          </test>
          <then>
            <weekday-after day="Tuesday">
              <easterdate/>
            </weekday-after>
          </then>
          <else>
            <date day="25" month="4"/>
          </else>
        </if>
      </daterules>
    </template>
  </liturgicalday>

  <!--
      FIXED DATES 
                  -->
  
  <coordinaterules set="Fixed dates" start-date="01-01" stop-date="12-31" overlap-priority="6">
    <query-set set="Fixed dates"/>
  </coordinaterules>
 
  <liturgicalday>
    <template>
      <name>Vigil of Christmas</name>
      <alternativename></alternativename>
      <season>Christmas season</season>
      <tide>Christmas Tide</tide>
      <set>Fixed dates</set>
      <coordinates>Z1224</coordinates>
      <rank nr="2">Vigil of Christmas</rank>
      <daterules>
        <date day="24" month="12" year-1="yes"/>
      </daterules>
    </template>
  </liturgicalday>
  
  <liturgicalday>
    <template>
      <name>Christmas</name>
      <alternativename>Nativity of the Lord</alternativename>
      <season>Christmas season</season>
      <tide>Christmas Tide</tide>
      <set>Fixed dates</set>
      <coordinates>Z1225</coordinates>
      <rank nr="6">Feasts of the Lord I class</rank>
      <vigil>true</vigil>
      <daterules>
        <date day="25" month="12" year-1="yes"/>
      </daterules>
    </template>
  </liturgicalday>
  
  <liturgicalday>
    <template>
      <name>Feast of Saint Stephen, deacon and protomartyr</name>
      <alternativename>Second day in the octave of Christmas</alternativename>
      <season>Christmas season</season>
      <tide>Christmas Tide</tide>
      <set>Fixed dates</set>
      <coordinates>Z1226</coordinates>
      <rank nr="12">Octave of Christmas</rank>
      <daterules>
        <date day="26" month="12" year-1="yes"/>
      </daterules>
    </template>
  </liturgicalday>

  <liturgicalday>
    <template>
      <name>Feast of Saint John, apostle and evangelist</name>
      <alternativename>Third day in the octave of Christmas</alternativename>
      <season>Christmas season</season>
      <tide>Christmas Tide</tide>
      <set>Fixed dates</set>
      <coordinates>Z1227</coordinates>
      <rank nr="12">Octave of Christmas</rank>
      <daterules>
        <date day="27" month="12" year-1="yes"/>
      </daterules>
    </template>
  </liturgicalday>

  <liturgicalday>
    <template>
      <name>Feast of the Holy Innocents</name>
      <alternativename>Fourth day in the octave of Christmas</alternativename>
      <season>Christmas season</season>
      <tide>Christmas Tide</tide>
      <set>Fixed dates</set>
      <coordinates>Z1228</coordinates>
      <rank nr="12">Octave of Christmas</rank>
      <daterules>
        <date day="28" month="12" year-1="yes"/>
      </daterules>
    </template>
  </liturgicalday>

  <liturgicalday>
    <template>
      <name>Octave day of Christmas</name>
      <alternativename>The Circumcision of Christ</alternativename>
      <season>Christmas season</season>
      <tide>Christmas Tide</tide>
      <set>Fixed dates</set>
      <coordinates>Z0101</coordinates>
      <rank nr="12">Octave of Christmas</rank>
      <daterules>
        <date day="01" month="01"/>
      </daterules>
    </template>
  </liturgicalday>

  <liturgicalday>
    <parameters>
      <parametergroup><day_s>Second</day_s><day_c>02</day_c></parametergroup>
      <parametergroup><day_s>Third</day_s><day_c>03</day_c></parametergroup>
      <parametergroup><day_s>Fourth</day_s><day_c>04</day_c></parametergroup>
      <parametergroup><day_s>Fifth</day_s><day_c>05</day_c></parametergroup>
      <parametergroup><day_s>Sixth</day_s><day_c>06</day_c></parametergroup>
      <parametergroup><day_s>Seventh</day_s><day_c>07</day_c></parametergroup>
      <parametergroup><day_s>Eighth</day_s><day_c>08</day_c></parametergroup>
      <parametergroup><day_s>Ninth</day_s><day_c>09</day_c></parametergroup>
      <parametergroup><day_s>Tenth</day_s><day_c>10</day_c></parametergroup>
      <parametergroup><day_s>Eleventh</day_s><day_c>11</day_c></parametergroup>
      <parametergroup><day_s>Twelfth</day_s><day_c>12</day_c></parametergroup>
    </parameters>
    <template>
      <name>$day_s day of January</name>
      <season>Christmas season</season>
      <tide>Christmas Tide</tide>
      <set>Fixed dates</set>
      <coordinates>Z01$day_c</coordinates>
      <rank nr="18">Feria IV class</rank>
      <daterules>
        <date day="$day_c" month="01"/>
      </daterules>
    </template>
  </liturgicalday>

  <liturgicalday>
    <template>
      <name>Epiphany</name>
      <alternativename></alternativename>
      <season>Christmas season</season>
      <tide>Epiphany</tide>
      <set>Fixed dates</set>
      <coordinates>Z0106</coordinates>
      <rank nr="6">Feasts of the Lord I class</rank>
      <daterules>
        <date day="06" month="01"/>
      </daterules>
    </template>
  </liturgicalday>

  <liturgicalday>
    <template>
      <name>Baptism of the Lord</name>
      <alternativename></alternativename>
      <season>Christmas season</season>
      <tide>Epiphany</tide>
      <set>Fixed dates</set>
      <coordinates>Z0113</coordinates>
      <rank nr="7">Feasts of the Lord II class</rank>
      <daterules>
        <date day="13" month="01"/>
      </daterules>
    </template>
  </liturgicalday>

  <liturgicalday>
    <parameters>
      <parametergroup><name>St. Joseph, Spouse of the Blessed Virgin Mary</name><day>19</day><month>03</month><coincidingset>Lent,Easter,Ascension,Special days after Easter,Greater Litanies</coincidingset><year-1/></parametergroup>
      <parametergroup><name>Annunciation of the Blessed Virgin Mary</name><day>25</day><month>03</month><coincidingset>Lent,Easter,Ascension,Special days after Easter,Greater Litanies</coincidingset><year-1/></parametergroup>
      <parametergroup><name>St. Joseph the Workman, Spouse of the Blessed Virgin Mary</name><day>01</day><month>05</month><coincidingset>Lent,Easter,Ascension,Special days after Easter,Greater Litanies</coincidingset><year-1/></parametergroup>
      <parametergroup><name>Nativity of St. John the Baptist</name><day>24</day><month>06</month><coincidingset>Lent,Easter,Ascension,Special days after Easter,Greater Litanies</coincidingset><year-1/></parametergroup>
      <parametergroup><name>Ss. Peter and Paul Apostles</name><day>29</day><month>06</month><coincidingset>Lent,Easter,Ascension,Special days after Easter,Greater Litanies</coincidingset><year-1/></parametergroup>
      <parametergroup><name>The Most Precious Blood of our Lord Jesus Christ</name><day>01</day><month>07</month><coincidingset/><year-1/></parametergroup>
      <parametergroup><name>Assumption of the Blessed Virgin Mary</name><day>15</day><month>08</month><coincidingset/><year-1/></parametergroup>
      <parametergroup><name>Dedication of St. Michael Archangel</name><day>29</day><month>09</month><coincidingset/><year-1/></parametergroup>
      <parametergroup><name>All Saints</name><day>01</day><month>11</month><coincidingset/><year-1/></parametergroup>
      <parametergroup><name>Commemoration of all the Faithful Departed</name><day>02</day><month>11</month><coincidingset/><year-1/></parametergroup>
      <parametergroup><name>Immaculate Conception of the Blessed Virgin Mary</name><day>08</day><month>12</month><coincidingset/><year-1>yes</year-1></parametergroup>
    </parameters>
    <template>
     <name>$name</name>
      <season>Season per annum</season>
      <set>Fixed dates</set>
      <coordinates>Z$month$day</coordinates>
      <rank nr="6">Feasts of the Lord I class</rank>
      <precedence>1</precedence><!-- to give precedence to moving Feasts of the Lord I class-->
      <daterules>
        <transfer rank="6" sets="$coincidingset">
          <date day="$day" month="$month" year-1="$year-1"/>
        </transfer>
      </daterules>
    </template>
  </liturgicalday>
  
  <liturgicalday>
    <parameters><!-- Feasts between 1/01 and 27/11 -->
      <parametergroup><name>Purification of the Blessed Virgin Mary</name><day>02</day><month>02</month><coincideswith/><year-1/></parametergroup>
      <parametergroup><name>Chair of St. Peter</name><day>22</day><month>02</month><coincideswith/><year-1/></parametergroup>
      <parametergroup><name>St. Mark Evangelist</name><day>25</day><month>04</month><coincideswith>GRL</coincideswith><year-1/></parametergroup>
      <parametergroup><name>Ss. Philip and James Apostles</name><day>11</day><month>05</month><coincideswith/><year-1/></parametergroup>
      <parametergroup><name>Blessed Virgin Mary, Queen</name><day>31</day><month>05</month><coincideswith/><year-1/></parametergroup>
      <parametergroup><name>Visitation of the Blessed Virgin Mary</name><day>02</day><month>07</month><coincideswith/><year-1/></parametergroup>
      <parametergroup><name>St. James Apostle</name><day>25</day><month>07</month><coincideswith/><year-1/></parametergroup>
      <parametergroup><name>St. Anne Mother of the Blessed Virgin Mary</name><day>26</day><month>07</month><coincideswith/><year-1/></parametergroup>
      <parametergroup><name>Transfiguration of our Lord Jesus Christ</name><day>06</day><month>08</month><coincideswith/><year-1/></parametergroup>
      <parametergroup><name>St. Laurence Martyr</name><day>10</day><month>08</month><coincideswith/><year-1/></parametergroup>
      <parametergroup><name>St. Joachim Father of the Blessed Virgin Mary</name><day>16</day><month>08</month><coincideswith/><year-1/></parametergroup>
      <parametergroup><name>Immaculate Heart of the Blessed Virgin Mary</name><day>22</day><month>08</month><coincideswith/><year-1/></parametergroup>
      <parametergroup><name>St. Bartholomew Apostle</name><day>24</day><month>08</month><coincideswith/><year-1/></parametergroup>
      <parametergroup><name>Nativity of the Blessed Virgin Mary</name><day>08</day><month>09</month><coincideswith/><year-1/></parametergroup>
      <parametergroup><name>Exaltation of the Holy Cross</name><day>14</day><month>09</month><coincideswith/><year-1/></parametergroup>
      <parametergroup><name>Seven Sorrows of the Blessed Virgin Mary</name><day>15</day><month>09</month><coincideswith/><year-1/></parametergroup>
      <parametergroup><name>St. Matthew Apostle and Evangelist</name><day>21</day><month>09</month><coincideswith/><year-1/></parametergroup>
      <parametergroup><name>Blessed Virgin Mary of the Rosary</name><day>07</day><month>10</month><coincideswith/><year-1/></parametergroup>
      <parametergroup><name>The Maternity of the Blessed Virgin Mary</name><day>11</day><month>10</month><coincideswith/><year-1/></parametergroup>
      <parametergroup><name>St. Luke Evangelist</name><day>18</day><month>10</month><coincideswith/><year-1/></parametergroup>
      <parametergroup><name>Ss. Simon and Jude Apostles</name><day>28</day><month>10</month><coincideswith/><year-1/></parametergroup>
      <parametergroup><name>Dedication of the Archbasilica of the most Holy Saviour</name><day>09</day><month>11</month><year-1/><coincideswith/></parametergroup>
      <parametergroup><name>St. Andrew Apostle</name><day>30</day><month>11</month><coincideswith/><year-1/></parametergroup>
      <parametergroup><name>St. Andrew Apostle</name><day>30</day><month>11</month><coincideswith/><year-1>yes</year-1></parametergroup>
      <parametergroup><name>St. Thomas Apostle</name><day>21</day><month>12</month><coincideswith/><year-1>yes</year-1></parametergroup>
    </parameters>
    <template>
     <name>$name</name>
      <season>Season per annum</season>
      <set>Fixed dates</set>
      <coordinates>Z$month$day</coordinates>
      <rank nr="11">Particular Feasts II class</rank>
      <coincideswith>$coincideswith</coincideswith>
      <daterules>
          <date day="$day" month="$month" year-1="$year-1"/>
      </daterules>
    </template>
  </liturgicalday>
  
  <liturgicalday>
    <parameters><!-- Vigils II between 1/01 and 27/11 -->
      <parametergroup><name>Vigil for the Nativity of St. John the Baptist</name><day>23</day><month>06</month></parametergroup>
      <parametergroup><name>Vigil for Ss. Peter and Paul Apostles</name><day>28</day><month>06</month></parametergroup>
      <parametergroup><name>Vigil for the Assumption of the Blessed Virgin Mary</name><day>14</day><month>08</month></parametergroup>
    </parameters>
    <template>
     <name>$name</name>
      <season>Season per annum</season>
      <set>Fixed dates</set>
      <coordinates>Z$month$day</coordinates>
      <rank nr="14">Vigils II class</rank>
      <daterules>
        <date day="$day" month="$month"/>
      </daterules>
    </template>
  </liturgicalday>
  
</liturgicaldays>
